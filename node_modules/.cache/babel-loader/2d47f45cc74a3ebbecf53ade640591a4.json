{"ast":null,"code":"import _classCallCheck from \"D:\\\\Maaz\\\\Seylani\\\\React\\\\Food App\\\\Application 3\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Maaz\\\\Seylani\\\\React\\\\Food App\\\\Application 3\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Maaz\\\\Seylani\\\\React\\\\Food App\\\\Application 3\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Maaz\\\\Seylani\\\\React\\\\Food App\\\\Application 3\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Maaz\\\\Seylani\\\\React\\\\Food App\\\\Application 3\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Maaz\\\\Seylani\\\\React\\\\Food App\\\\Application 3\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Maaz\\\\Seylani\\\\React\\\\Food App\\\\Application 3\\\\New folder\\\\src\\\\Components\\\\location.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport firebase from '../Config/firebaseintegration';\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\nimport { func } from 'prop-types';\nimport { update_user } from '../store/action';\nimport { withSwalInstance } from 'sweetalert2-react';\nimport swal from 'sweetalert2';\nvar SweetAlert = withSwalInstance(swal);\n\nvar Location =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Location, _React$Component);\n\n  function Location() {\n    var _this;\n\n    _classCallCheck(this, Location);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Location).call(this));\n    _this.next = _this.next.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Location, [{\n    key: \"next\",\n    value: function next() {\n      var _this2 = this;\n\n      firebase.database().ref(\"users/\" + this.props.user.uid).once(\"value\").then(function (d) {\n        var data = d.val();\n        console.log(data);\n\n        if (data.longitude !== undefined && data.latitude !== undefined) {\n          _this2.props.store_user(data);\n\n          if (data.type === \"user\") {\n            _this2.props.history.push(\"/userpanel/\".concat(data.name));\n          } else {\n            _this2.props.history.push(\"/restaurentpanel/\".concat(data.name));\n          }\n        } else {// this.setState({\n          //     showAlert:true\n          // })\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // const { showAlert } = this.state;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"homeBase\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-cheese\",\n        style: {\n          color: \"rgba(26, 235, 60, 0.836)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), \" foodsome\")), React.createElement(\"p\", {\n        className: 'locationHeading',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Please Set Your Location\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(MyMapComponent, {\n        isMarkerShown: true,\n        googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\",\n        loadingElement: React.createElement(\"div\", {\n          style: {\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }),\n        containerElement: React.createElement(\"div\", {\n          style: {\n            height: \"400px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }),\n        mapElement: React.createElement(\"div\", {\n          style: {\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: 'loginBtn',\n        onClick: this.next,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-arrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), \" Next\"));\n    }\n  }]);\n\n  return Location;\n}(React.Component);\n\nfunction setLocation(e) {\n  var latitude = e.latLng.lat();\n  var longitude = e.latLng.lng();\n  firebase.database().ref(\"users/\" + firebase.auth().currentUser.uid).once(\"value\").then(function (d) {\n    var user = d.val();\n    user.latitude = latitude;\n    user.longitude = latitude;\n    firebase.database().ref(\"users/\" + firebase.auth().currentUser.uid).set(user);\n  });\n}\n\nvar MyMapComponent = withScriptjs(withGoogleMap(function (props) {\n  return React.createElement(GoogleMap, {\n    defaultZoom: 8,\n    defaultCenter: {\n      lat: -34.397,\n      lng: 150.644\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, props.isMarkerShown && React.createElement(Marker, {\n    position: {\n      lat: -34.397,\n      lng: 150.644\n    },\n    draggable: true,\n    onDragEnd: function onDragEnd(e) {\n      setLocation(e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }));\n}));\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    store_user: function store_user(user) {\n      return dispatch(update_user(user));\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Location);","map":{"version":3,"sources":["D:\\Maaz\\Seylani\\React\\Food App\\Application 3\\New folder\\src\\Components\\location.js"],"names":["React","connect","firebase","withScriptjs","withGoogleMap","GoogleMap","Marker","func","update_user","withSwalInstance","swal","SweetAlert","Location","next","bind","database","ref","props","user","uid","once","then","d","data","val","console","log","longitude","undefined","latitude","store_user","type","history","push","name","color","height","Component","setLocation","e","latLng","lat","lng","auth","currentUser","set","MyMapComponent","isMarkerShown","mapDispatchToProps","dispatch","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport firebase from '../Config/firebaseintegration';\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\r\nimport { func } from 'prop-types';\r\nimport { update_user } from '../store/action';\r\nimport { withSwalInstance } from 'sweetalert2-react';\r\nimport swal from 'sweetalert2';\r\n\r\n\r\nconst SweetAlert = withSwalInstance(swal);\r\n\r\nclass Location extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.next = this.next.bind(this)\r\n    }\r\n    next() {\r\n        firebase.database().ref(\"users/\" + this.props.user.uid).once(\"value\").then((d) => {\r\n            const data = d.val();\r\n            console.log(data)\r\n            if (data.longitude !== undefined && data.latitude !== undefined) {\r\n                this.props.store_user(data);\r\n                if (data.type === \"user\") {\r\n                    this.props.history.push(`/userpanel/${data.name}`)\r\n                }\r\n                else {\r\n                    this.props.history.push(`/restaurentpanel/${data.name}`)\r\n                }\r\n            }\r\n            else {\r\n                // this.setState({\r\n                //     showAlert:true\r\n                // })\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        // const { showAlert } = this.state;\r\n\r\n        return (<div>\r\n            <div className='homeBase'><p><i class='fas fa-cheese' style={{ color: \"rgba(26, 235, 60, 0.836)\" }}></i> foodsome</p></div>\r\n            <p className={'locationHeading'}>Please Set Your Location</p>\r\n            <hr />\r\n            <MyMapComponent\r\n                isMarkerShown\r\n                googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div style={{ height: `400px` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n            />\r\n            <hr />\r\n            <button className={'loginBtn'} onClick={this.next}><i class='fas fa-arrow'></i> Next</button>\r\n            {/* <SweetAlert\r\n                show={showAlert}\r\n                text={'In Order to go next please set your location first!'}\r\n                type={\"error\"}\r\n                confirmButtonColor={'#FC615D'}\r\n                onConfirm={() => { this.setState({ showAlert: false }) }}\r\n            /> */}\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction setLocation(e) {\r\n    const latitude = e.latLng.lat();\r\n    const longitude = e.latLng.lng();\r\n\r\n    firebase.database().ref(\"users/\" + firebase.auth().currentUser.uid).once(\"value\").then((d) => {\r\n        const user = d.val()\r\n        user.latitude = latitude;\r\n        user.longitude = latitude;\r\n        firebase.database().ref(\"users/\" + firebase.auth().currentUser.uid).set(user)\r\n    })\r\n}\r\n\r\nconst MyMapComponent = withScriptjs(withGoogleMap((props) =>\r\n    <GoogleMap\r\n        defaultZoom={8}\r\n        defaultCenter={{ lat: -34.397, lng: 150.644 }}\r\n    >\r\n        {props.isMarkerShown && <Marker position={{ lat: -34.397, lng: 150.644 }} draggable={true} onDragEnd={(e) => { setLocation(e) }} />}\r\n    </GoogleMap>\r\n))\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        store_user: (user) => dispatch(update_user(user))\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.user,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Location)"]},"metadata":{},"sourceType":"module"}